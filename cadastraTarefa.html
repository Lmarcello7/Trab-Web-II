<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Tarefa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/js/bootstrap.min.js" integrity="sha512-7NJS/btWsS2Q0fhf+ZP0JiPJcZZ4cn4gBKfX9yH/HG8tnhWw+Gpx6d5Ua32iY8Z0WxG0rr6bXO6O2U6y3qLy0w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <div class="container mt-3">
        <div class="card">
            <div class="card-header">
              <h4 class="text-center">Cadastrar Tarefa</h4>
            </div>
            <div class="container-fluid">
                <div class="row justify-content-center mt-2">
                    <div class="col-5">
                        <label for="createTest">Nome da tarefa</label>
                        <input type="text" name="nomeTeste" id="createTest" class="form-control form-control-sm">
                    </div>
                    <div class="col-2 p-4">
                        <button type="button" class="btn btn-sm btn-success" id="btnAddTarefa" onclick="addTarefa()"><i class="fa fa-plus" aria-hidden="true"></i> Adicionar Tarefa</button>
                    </div>
                    <hr style="width: 90%;">
                </div>
                <div class="table-responsive" id="contTable">
                    <h5 class="text-center">Tarefas Cadastradas</h5>
                    <div class="alerta bg-light m-auto p-1 mt-3" style="width: 93%;">
                        <h5 class="text-center">Nenhuma tarefa cadastrada</h5>
                    </div>
                    <table class="table table-sm table-striped table-hover table-bordered font-11 w-75 m-auto mb-3" id="mainTable">
                        <thead class="bg-dark text-white">
                            <tr>
                                <th width="75%">Nome da Tarefa</th>
                                <th width="25%">Cadastrar Perguntas</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div><!--FIM CONTAINER CARD-->
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mainTable = document.querySelector('#mainTable');
            const alerta = document.querySelector('.alerta');

            if (mainTable.children.length > 1) {
                mainTable.style.display = 'table';
                alerta.style.display = 'none';
            } else {
                mainTable.style.display = 'none';
                alerta.style.display = 'block';
            }
        });

        function addTarefa(){
            const createTestInput = document.querySelector('#createTest');
            const mainTable = document.querySelector('#mainTable');
            const alerta = document.querySelector('.alerta');

            if (createTestInput.value !== '') {
                const nomeAtv = createTestInput.value;
                createTestInput.value = '';

                //----CRIANDO LINHAS DA TABELA----//
                const tr = document.createElement('tr');
                const td1 = document.createElement('td');
                td1.textContent = nomeAtv;
                const td2 = document.createElement('td');
                td2.classList.add('text-center');
                const btnCadastrar = document.createElement('button');
                btnCadastrar.classList.add('btn', 'btn-sm', 'btn-warning', 'btnCadastrar');
                const icon = document.createElement('i');
                icon.classList.add('fa', 'fa-plus-square-o');
                btnCadastrar.appendChild(icon);
                btnCadastrar.innerHTML += ' Cadastrar Perguntas';
                td2.appendChild(btnCadastrar);
                tr.appendChild(td1);
                tr.appendChild(td2);

                mainTable.style.display = 'table';
                alerta.style.display = 'none';
                mainTable.querySelector('tbody').appendChild(tr);
                //-------------------------------//
            } else {
                alert('PREENCHA O CAMPO NOME DA TAREFA!');
            }
        }
    </script>
</body>
</html>